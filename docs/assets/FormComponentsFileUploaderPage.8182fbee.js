import{V as $}from"./VPreviewComponentCard.5a1a42b2.js";import{C as k}from"./cross.268dcc37.js";import{b as c,c as d,e as a,d as F,U as M,r as B,n as t,m as p,k as l,l as u,p as v,t as y,_ as V,F as N,B as U,C as w}from"./index.155b1d31.js";import{a as S,V as z}from"./VButton.5a39a3ea.js";import{a as j,V as A}from"./VIconButton.f978e5b9.js";import{b as D,V as H,a as T}from"./VTitle.5aeec995.js";import{g as I}from"./PathTools.484cb364.js";import{G as R}from"./Colors.efb7d88d.js";const E={xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true","font-size":"1.5rem",class:"iconify iconify--mdi",width:"1em",height:"1em",viewBox:"0 0 24 24"},L=a("path",{fill:"currentColor",d:"M6 2a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8l-6-6H6m0 2h7v5h5v11H6V4m2 8v2h8v-2H8m0 4v2h5v-2H8Z"},null,-1),P=[L];function G(_,s){return c(),d("svg",E,P)}var O={render:G};const W="_root_1xilh_1",q="_input_1xilh_5",X="_dropzone_1xilh_11",Z="_text_1xilh_22",J="_desc_1xilh_25",K="_img_1xilh_29";var Q={root:W,input:q,dropzone:X,text:Z,desc:J,img:K};const Y=["multiple"],ee=["src"],te=F({__name:"VFileUploader",props:{title:{default:""},desc:{default:""},multiple:{type:Boolean,default:!1},maxCount:{default:5},maxSize:{default:Number.MAX_SAFE_INTEGER},name:{default:""},cleanAfterLoad:{type:Boolean,default:!1}},emits:["upload","onMaxWeight"],setup(_,{emit:s}){const i=_,h=M(),e=B(null),n=o=>{const m=Array.from(o),f=[],g=[];if(m.length>i.maxCount){h.error(`Max ${i.maxCount} files to upload!`);return}for(const b of m)b.size<i.maxSize?f.push(b):g.push(b.name);f.length&&s("upload",{name:i.name,files:f}),g.length&&s("onMaxWeight",{name:i.name,names:g}),i.cleanAfterLoad&&(e.value.value="")},r=o=>{const m=o.dataTransfer;if(m===null)return;const{files:f}=m;n(f)},x=o=>{n(o.target.files)};return(o,m)=>(c(),d("label",{class:t(o.$style.root)},[a("input",{ref_key:"inputRef",ref:e,class:t(o.$style.input),multiple:i.multiple,type:"file",onDrop:r,onChange:x},null,42,Y),a("div",{class:t(o.$style.dropzone)},[a("img",{class:t(o.$style.img),src:p(I)("images/upload.png"),alt:"upload"},null,10,ee),a("div",{class:t(o.$style.text)},[l(H,{mb:10},{default:u(()=>[l(D,{variant:"heading5"},{default:u(()=>[v(y(o.title),1)]),_:1})]),_:1}),l(T,{class:t(o.$style.desc),variant:"subtitle1"},{default:u(()=>[v(y(o.desc),1)]),_:1},8,["class"])],2)],2)],2))}}),le={$style:Q};var oe=V(te,[["__cssModules",le]]);const se="_root_1bb3j_1",ae="_files_1bb3j_5",ie="_file_1bb3j_5",ne="_fileName_1bb3j_21",re="_fileSize_1bb3j_28",ue="_actions_1bb3j_36",ce="_button_1bb3j_39",de="_img_1bb3j_43",me="_remove_1bb3j_51";var pe={root:se,files:ae,file:ie,fileName:ne,fileSize:re,actions:ue,button:ce,img:de,remove:me};const fe=F({__name:"FileUploaderPresentation",props:{title:{default:""},desc:{default:""},name:{default:""},multiple:{type:Boolean,default:!1},maxCount:{default:5}},setup(_){const s=B([]),i=e=>{const{files:n}=e;s.value=n.map(r=>({file:r,id:Math.random().toString(16).substring(2,8)}))},h=e=>{e===null?s.value=[]:s.value=[...s.value].filter(n=>n.id!==e)};return(e,n)=>(c(),d("div",{class:t(e.$style.root)},[l(oe,{"clean-after-load":"",title:e.title,desc:e.desc,multiple:e.multiple,name:e.name,"max-count":e.maxCount,onUpload:i},null,8,["title","desc","multiple","name","max-count"]),a("div",{class:t(e.$style.files)},[(c(!0),d(N,null,U(s.value,r=>(c(),d("div",{key:r.file.name,class:t(e.$style.file)},[a("div",{class:t(e.$style.img)},[l(p(O))],2),a("div",{class:t(e.$style.text)},[a("p",{class:t(e.$style.fileName)},y(r.file.name),3),a("p",{class:t(e.$style.fileSize)},y(r.file.size.toFixed(1))+" kb ",3)],2),a("div",{class:t(e.$style.remove)},[l(A,{size:p(j).SMALL,onClick:x=>h(r.id)},{default:u(()=>[l(p(k))]),_:2},1032,["size","onClick"])],2)],2))),128))],2),s.value.length?(c(),d("div",{key:0,class:t(e.$style.actions)},[l(z,{color:p(R).ERROR,variant:p(S).OUTLINED,class:t(e.$style.button),onClick:n[0]||(n[0]=r=>h(null))},{default:u(()=>[v(" Remove all ")]),_:1},8,["color","variant","class"]),l(z,{class:t(e.$style.button)},{default:u(()=>[v(" Upload files ")]),_:1},8,["class"])],2)):w("",!0)],2))}}),_e={$style:pe};var C=V(fe,[["__cssModules",_e]]);const he="_root_1rqpz_1";var ve={root:he};const ye=F({__name:"FormComponentsFileUploaderPage",setup(_){return(s,i)=>(c(),d("div",{class:t(s.$style.root)},[l($,{title:"File uploader basic"},{default:u(()=>[l(C,{title:"Drop files here or click to upload.",desc:"Drop files here or click browse thorough your machine",name:"upload"})]),_:1}),l($,{title:"File uploader multiple",desc:"Use \xABmultiple\xBB prop to upload multiple files."},{default:u(()=>[l(C,{title:"Drop files here or click to upload.",desc:"Drop files here or click browse thorough your machine",name:"upload",multiple:""})]),_:1}),l($,{title:"File uploader with count limit",desc:"Use \xABmax-count\xBB prop, to limit count files to upload."},{default:u(()=>[l(C,{title:"Drop files here or click to upload.",desc:"Max 2 files to upload.",name:"upload",multiple:"","max-count":2})]),_:1})],2))}}),ge={$style:ve};var ke=V(ye,[["__cssModules",ge]]);export{ke as default};
