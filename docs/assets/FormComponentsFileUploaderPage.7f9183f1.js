import{V as b}from"./VPreviewComponentCard.393ab496.js";import{C as V}from"./cross.daa55df1.js";import{b as u,c,e as o,d as z,r as k,n as t,t as h,_ as C,k as a,F as M,C as N,m as _,l as m,p as F,D as w}from"./index.276d9026.js";import{V as B}from"./VButton.f164b58c.js";import{a as S,V as U}from"./VIconButton.8e36ecc8.js";import{G as x,e as j}from"./VButton.8bbfd4f6.js";const A={xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true","font-size":"1.5rem",class:"iconify iconify--mdi",width:"1em",height:"1em",viewBox:"0 0 24 24"},D=o("path",{fill:"currentColor",d:"M6 2a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8l-6-6H6m0 2h7v5h5v11H6V4m2 8v2h8v-2H8m0 4v2h5v-2H8Z"},null,-1),H=[D];function R(v,s){return u(),c("svg",A,H)}var E={render:R},I="/vue-crm-materio/assets/upload.4a14cec6.png";const L="_root_15ez9_1",P="_input_15ez9_5",T="_dropzone_15ez9_11",G="_text_15ez9_22",O="_header_15ez9_25",W="_desc_15ez9_31",q="_img_15ez9_38";var X={root:L,input:P,dropzone:T,text:G,header:O,desc:W,img:q};const Z=["multiple"],J=z({__name:"VFileUploader",props:{title:{default:""},desc:{default:""},multiple:{type:Boolean,default:!1},maxCount:{default:5},maxSize:{default:Number.MAX_SAFE_INTEGER},name:{default:""},cleanAfterLoad:{type:Boolean,default:!1}},emits:["upload","onMaxWeight"],setup(v,{emit:s}){const n=v,p=k(null),e=l=>{const d=Array.from(l),f=[],y=[];if(d.length>n.maxCount){alert(`Max ${n.maxCount} files to upload!`);return}for(const $ of d)$.size<n.maxSize?f.push($):y.push($.name);f.length&&s("upload",{name:n.name,files:f}),y.length&&s("onMaxWeight",{name:n.name,names:y}),n.cleanAfterLoad&&(p.value.value="")},r=l=>{const d=l.dataTransfer;if(d===null)return;const{files:f}=d;e(f)},i=l=>{e(l.target.files)};return(l,d)=>(u(),c("label",{class:t(l.$style.root)},[o("input",{ref_key:"inputRef",ref:p,class:t(l.$style.input),multiple:n.multiple,type:"file",onDrop:r,onChange:i},null,42,Z),o("div",{class:t(l.$style.dropzone)},[o("img",{class:t(l.$style.img),src:I,alt:"upload"},null,2),o("div",{class:t(l.$style.text)},[o("h5",{class:t(l.$style.header)},h(l.title),3),o("p",{class:t(l.$style.desc)},h(l.desc),3)],2)],2)],2))}}),K={$style:X};var Q=C(J,[["__cssModules",K]]);const Y="_root_1bb3j_1",ee="_files_1bb3j_5",te="_file_1bb3j_5",le="_fileName_1bb3j_21",oe="_fileSize_1bb3j_28",se="_actions_1bb3j_36",ae="_button_1bb3j_39",ne="_img_1bb3j_43",ie="_remove_1bb3j_51";var re={root:Y,files:ee,file:te,fileName:le,fileSize:oe,actions:se,button:ae,img:ne,remove:ie};const ue=z({__name:"FileUploaderPresentation",props:{title:{default:""},desc:{default:""},name:{default:""},multiple:{type:Boolean,default:!1},maxCount:{default:5}},setup(v){const s=k([]),n=e=>{const{files:r}=e;s.value=r.map(i=>({file:i,id:Math.random().toString(16).substring(2,8)}))},p=e=>{e===null?s.value=[]:s.value=[...s.value].filter(r=>r.id!==e)};return(e,r)=>(u(),c("div",{class:t(e.$style.root)},[a(Q,{"clean-after-load":"",title:e.title,desc:e.desc,multiple:e.multiple,name:e.name,"max-count":e.maxCount,onUpload:n},null,8,["title","desc","multiple","name","max-count"]),o("div",{class:t(e.$style.files)},[(u(!0),c(M,null,N(s.value,i=>(u(),c("div",{key:i.file.name,class:t(e.$style.file)},[o("div",{class:t(e.$style.img)},[a(_(E))],2),o("div",{class:t(e.$style.text)},[o("p",{class:t(e.$style.fileName)},h(i.file.name),3),o("p",{class:t(e.$style.fileSize)},h(i.file.size.toFixed(1))+" kb ",3)],2),o("div",{class:t(e.$style.remove)},[a(U,{size:_(S).SMALL,onClick:l=>p(i.id)},{default:m(()=>[a(_(V))]),_:2},1032,["size","onClick"])],2)],2))),128))],2),s.value.length?(u(),c("div",{key:0,class:t(e.$style.actions)},[a(B,{color:_(x).ERROR,variant:_(j).OUTLINED,class:t(e.$style.button),onClick:r[0]||(r[0]=i=>p(null))},{default:m(()=>[F(" Remove all ")]),_:1},8,["color","variant","class"]),a(B,{class:t(e.$style.button)},{default:m(()=>[F(" Upload files ")]),_:1},8,["class"])],2)):w("",!0)],2))}}),ce={$style:re};var g=C(ue,[["__cssModules",ce]]);const de="_root_1rqpz_1";var me={root:de};const pe=z({__name:"FormComponentsFileUploaderPage",setup(v){return(s,n)=>(u(),c("div",{class:t(s.$style.root)},[a(b,{title:"File uploader basic"},{default:m(()=>[a(g,{title:"Drop files here or click to upload.",desc:"Drop files here or click browse thorough your machine",name:"upload"})]),_:1}),a(b,{title:"File uploader multiple",desc:"Use \xABmultiple\xBB prop to upload multiple files."},{default:m(()=>[a(g,{title:"Drop files here or click to upload.",desc:"Drop files here or click browse thorough your machine",name:"upload",multiple:""})]),_:1}),a(b,{title:"File uploader with count limit",desc:"Use \xABmax-count\xBB prop, to limit count files to upload."},{default:m(()=>[a(g,{title:"Drop files here or click to upload.",desc:"Max 2 files to upload.",name:"upload",multiple:"","max-count":2})]),_:1})],2))}}),fe={$style:me};var ge=C(pe,[["__cssModules",fe]]);export{ge as default};
