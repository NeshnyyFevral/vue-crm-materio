import{V as b}from"./VPreviewComponentCard.fe4c5e5a.js";import{C as M}from"./cross.21990af9.js";import{b as u,c,e as o,d as z,N,r as V,n as t,t as h,_ as C,k as a,F as w,C as S,m as f,l as m,p as B,D as U}from"./index.43a0673b.js";import{V as k}from"./VButton.ad275bb4.js";import{a as x,V as j}from"./VIconButton.bb0f4856.js";import{G as A,e as D}from"./VButton.8bbfd4f6.js";const H={xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true","font-size":"1.5rem",class:"iconify iconify--mdi",width:"1em",height:"1em",viewBox:"0 0 24 24"},R=o("path",{fill:"currentColor",d:"M6 2a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8l-6-6H6m0 2h7v5h5v11H6V4m2 8v2h8v-2H8m0 4v2h5v-2H8Z"},null,-1),E=[R];function I(_,s){return u(),c("svg",H,E)}var L={render:I},T="/vue-crm-materio/assets/upload.4a14cec6.png";const P="_root_15ez9_1",G="_input_15ez9_5",O="_dropzone_15ez9_11",W="_text_15ez9_22",q="_header_15ez9_25",X="_desc_15ez9_31",Z="_img_15ez9_38";var J={root:P,input:G,dropzone:O,text:W,header:q,desc:X,img:Z};const K=["multiple"],Q=z({__name:"VFileUploader",props:{title:{default:""},desc:{default:""},multiple:{type:Boolean,default:!1},maxCount:{default:5},maxSize:{default:Number.MAX_SAFE_INTEGER},name:{default:""},cleanAfterLoad:{type:Boolean,default:!1}},emits:["upload","onMaxWeight"],setup(_,{emit:s}){const n=_,v=N(),e=V(null),i=l=>{const d=Array.from(l),p=[],y=[];if(d.length>n.maxCount){v.error(`Max ${n.maxCount} files to upload!`);return}for(const $ of d)$.size<n.maxSize?p.push($):y.push($.name);p.length&&s("upload",{name:n.name,files:p}),y.length&&s("onMaxWeight",{name:n.name,names:y}),n.cleanAfterLoad&&(e.value.value="")},r=l=>{const d=l.dataTransfer;if(d===null)return;const{files:p}=d;i(p)},F=l=>{i(l.target.files)};return(l,d)=>(u(),c("label",{class:t(l.$style.root)},[o("input",{ref_key:"inputRef",ref:e,class:t(l.$style.input),multiple:n.multiple,type:"file",onDrop:r,onChange:F},null,42,K),o("div",{class:t(l.$style.dropzone)},[o("img",{class:t(l.$style.img),src:T,alt:"upload"},null,2),o("div",{class:t(l.$style.text)},[o("h5",{class:t(l.$style.header)},h(l.title),3),o("p",{class:t(l.$style.desc)},h(l.desc),3)],2)],2)],2))}}),Y={$style:J};var ee=C(Q,[["__cssModules",Y]]);const te="_root_1bb3j_1",le="_files_1bb3j_5",oe="_file_1bb3j_5",se="_fileName_1bb3j_21",ae="_fileSize_1bb3j_28",ne="_actions_1bb3j_36",ie="_button_1bb3j_39",re="_img_1bb3j_43",ue="_remove_1bb3j_51";var ce={root:te,files:le,file:oe,fileName:se,fileSize:ae,actions:ne,button:ie,img:re,remove:ue};const de=z({__name:"FileUploaderPresentation",props:{title:{default:""},desc:{default:""},name:{default:""},multiple:{type:Boolean,default:!1},maxCount:{default:5}},setup(_){const s=V([]),n=e=>{const{files:i}=e;s.value=i.map(r=>({file:r,id:Math.random().toString(16).substring(2,8)}))},v=e=>{e===null?s.value=[]:s.value=[...s.value].filter(i=>i.id!==e)};return(e,i)=>(u(),c("div",{class:t(e.$style.root)},[a(ee,{"clean-after-load":"",title:e.title,desc:e.desc,multiple:e.multiple,name:e.name,"max-count":e.maxCount,onUpload:n},null,8,["title","desc","multiple","name","max-count"]),o("div",{class:t(e.$style.files)},[(u(!0),c(w,null,S(s.value,r=>(u(),c("div",{key:r.file.name,class:t(e.$style.file)},[o("div",{class:t(e.$style.img)},[a(f(L))],2),o("div",{class:t(e.$style.text)},[o("p",{class:t(e.$style.fileName)},h(r.file.name),3),o("p",{class:t(e.$style.fileSize)},h(r.file.size.toFixed(1))+" kb ",3)],2),o("div",{class:t(e.$style.remove)},[a(j,{size:f(x).SMALL,onClick:F=>v(r.id)},{default:m(()=>[a(f(M))]),_:2},1032,["size","onClick"])],2)],2))),128))],2),s.value.length?(u(),c("div",{key:0,class:t(e.$style.actions)},[a(k,{color:f(A).ERROR,variant:f(D).OUTLINED,class:t(e.$style.button),onClick:i[0]||(i[0]=r=>v(null))},{default:m(()=>[B(" Remove all ")]),_:1},8,["color","variant","class"]),a(k,{class:t(e.$style.button)},{default:m(()=>[B(" Upload files ")]),_:1},8,["class"])],2)):U("",!0)],2))}}),me={$style:ce};var g=C(de,[["__cssModules",me]]);const pe="_root_1rqpz_1";var fe={root:pe};const _e=z({__name:"FormComponentsFileUploaderPage",setup(_){return(s,n)=>(u(),c("div",{class:t(s.$style.root)},[a(b,{title:"File uploader basic"},{default:m(()=>[a(g,{title:"Drop files here or click to upload.",desc:"Drop files here or click browse thorough your machine",name:"upload"})]),_:1}),a(b,{title:"File uploader multiple",desc:"Use \xABmultiple\xBB prop to upload multiple files."},{default:m(()=>[a(g,{title:"Drop files here or click to upload.",desc:"Drop files here or click browse thorough your machine",name:"upload",multiple:""})]),_:1}),a(b,{title:"File uploader with count limit",desc:"Use \xABmax-count\xBB prop, to limit count files to upload."},{default:m(()=>[a(g,{title:"Drop files here or click to upload.",desc:"Max 2 files to upload.",name:"upload",multiple:"","max-count":2})]),_:1})],2))}}),ve={$style:fe};var Ce=C(_e,[["__cssModules",ve]]);export{Ce as default};
