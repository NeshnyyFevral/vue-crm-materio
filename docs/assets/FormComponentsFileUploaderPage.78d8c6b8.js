import{V as b}from"./VPreviewComponentCard.bf6728b2.js";import{C as M}from"./cross.b2a902ba.js";import{b as c,c as d,e as a,d as F,$ as N,r as B,n as t,m as p,k as l,l as u,p as v,t as y,_ as V,F as w,B as S,E as U}from"./index.cae6f6fc.js";import{a as j,V as z}from"./VButton.f9b0ada6.js";import{a as A,V as D}from"./VIconButton.ec8a644b.js";import{b as H,V as T,a as E}from"./VTitle.03c2dcf2.js";import{g as I}from"./PathTools.484cb364.js";import{G as R}from"./Colors.efb7d88d.js";const L={xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true","font-size":"1.5rem",class:"iconify iconify--mdi",width:"1em",height:"1em",viewBox:"0 0 24 24"},P=a("path",{fill:"currentColor",d:"M6 2a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8l-6-6H6m0 2h7v5h5v11H6V4m2 8v2h8v-2H8m0 4v2h5v-2H8Z"},null,-1),G=[P];function O(h,s){return c(),d("svg",L,[...G])}var W={render:O};const q="_root_1xilh_1",X="_input_1xilh_5",Z="_dropzone_1xilh_11",J="_text_1xilh_22",K="_desc_1xilh_25",Q="_img_1xilh_29";var Y={root:q,input:X,dropzone:Z,text:J,desc:K,img:Q};const ee=["multiple"],te=["src"],le=F({__name:"VFileUploader",props:{title:{default:""},desc:{default:""},multiple:{type:Boolean,default:!1},maxCount:{default:5},maxSize:{default:Number.MAX_SAFE_INTEGER},name:{default:""},cleanAfterLoad:{type:Boolean,default:!1}},emits:["upload","onMaxWeight"],setup(h,{emit:s}){const i=h,f=s,e=N(),r=B(null),n=o=>{const m=Array.from(o),_=[],g=[];if(m.length>i.maxCount){e.error(`Max ${i.maxCount} files to upload!`);return}for(const $ of m)$.size<i.maxSize?_.push($):g.push($.name);_.length&&f("upload",{name:i.name,files:_}),g.length&&f("onMaxWeight",{name:i.name,names:g}),i.cleanAfterLoad&&(r.value.value="")},x=o=>{const m=o.dataTransfer;if(m===null)return;const{files:_}=m;n(_)},k=o=>{n(o.target.files)};return(o,m)=>(c(),d("label",{class:t(o.$style.root)},[a("input",{ref_key:"inputRef",ref:r,class:t(o.$style.input),multiple:i.multiple,type:"file",onDrop:x,onChange:k},null,42,ee),a("div",{class:t(o.$style.dropzone)},[a("img",{class:t(o.$style.img),src:p(I)("images/upload.png"),alt:"upload"},null,10,te),a("div",{class:t(o.$style.text)},[l(T,{mb:10},{default:u(()=>[l(H,{variant:"heading5"},{default:u(()=>[v(y(o.title),1)]),_:1})]),_:1}),l(E,{class:t(o.$style.desc),variant:"subtitle1"},{default:u(()=>[v(y(o.desc),1)]),_:1},8,["class"])],2)],2)],2))}}),oe={$style:Y};var se=V(le,[["__cssModules",oe]]);const ae="_root_1bb3j_1",ie="_files_1bb3j_5",ne="_file_1bb3j_5",re="_fileName_1bb3j_21",ue="_fileSize_1bb3j_28",ce="_actions_1bb3j_36",de="_button_1bb3j_39",me="_img_1bb3j_43",pe="_remove_1bb3j_51";var fe={root:ae,files:ie,file:ne,fileName:re,fileSize:ue,actions:ce,button:de,img:me,remove:pe};const _e=F({__name:"FileUploaderPresentation",props:{title:{default:""},desc:{default:""},name:{default:""},multiple:{type:Boolean,default:!1},maxCount:{default:5}},setup(h){const s=B([]),i=e=>{const{files:r}=e;s.value=r.map(n=>({file:n,id:Math.random().toString(16).substring(2,8)}))},f=e=>{e===null?s.value=[]:s.value=[...s.value].filter(r=>r.id!==e)};return(e,r)=>(c(),d("div",{class:t(e.$style.root)},[l(se,{"clean-after-load":"",title:e.title,desc:e.desc,multiple:e.multiple,name:e.name,"max-count":e.maxCount,onUpload:i},null,8,["title","desc","multiple","name","max-count"]),a("div",{class:t(e.$style.files)},[(c(!0),d(w,null,S(s.value,n=>(c(),d("div",{key:n.file.name,class:t(e.$style.file)},[a("div",{class:t(e.$style.img)},[l(p(W))],2),a("div",{class:t(e.$style.text)},[a("p",{class:t(e.$style.fileName)},y(n.file.name),3),a("p",{class:t(e.$style.fileSize)},y(n.file.size.toFixed(1))+" kb ",3)],2),a("div",{class:t(e.$style.remove)},[l(D,{size:p(A).SMALL,onClick:x=>f(n.id)},{default:u(()=>[l(p(M))]),_:2},1032,["size","onClick"])],2)],2))),128))],2),s.value.length?(c(),d("div",{key:0,class:t(e.$style.actions)},[l(z,{color:p(R).ERROR,variant:p(j).OUTLINED,class:t(e.$style.button),onClick:r[0]||(r[0]=n=>f(null))},{default:u(()=>[v(" Remove all ")]),_:1},8,["color","variant","class"]),l(z,{class:t(e.$style.button)},{default:u(()=>[v(" Upload files ")]),_:1},8,["class"])],2)):U("",!0)],2))}}),he={$style:fe};var C=V(_e,[["__cssModules",he]]);const ve="_root_1rqpz_1";var ye={root:ve};const ge=F({__name:"FormComponentsFileUploaderPage",setup(h){return(s,i)=>(c(),d("div",{class:t(s.$style.root)},[l(b,{title:"File uploader basic"},{default:u(()=>[l(C,{title:"Drop files here or click to upload.",desc:"Drop files here or click browse thorough your machine",name:"upload"})]),_:1}),l(b,{title:"File uploader multiple",desc:"Use \xABmultiple\xBB prop to upload multiple files."},{default:u(()=>[l(C,{title:"Drop files here or click to upload.",desc:"Drop files here or click browse thorough your machine",name:"upload",multiple:""})]),_:1}),l(b,{title:"File uploader with count limit",desc:"Use \xABmax-count\xBB prop, to limit count files to upload."},{default:u(()=>[l(C,{title:"Drop files here or click to upload.",desc:"Max 2 files to upload.",name:"upload",multiple:"","max-count":2})]),_:1})],2))}}),$e={$style:ye};var Me=V(ge,[["__cssModules",$e]]);export{Me as default};
